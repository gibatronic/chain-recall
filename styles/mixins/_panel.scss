@import 'math';

$background: rgb(51, 51, 51);

$colors: (
  (name: 'red', light: rgb(231, 76, 60), dark: rgb(192, 57, 43)),
  (name: 'orange', light: rgb(230, 126, 34), dark: rgb(211, 84, 0)),
  (name: 'yellow', light: rgb(241, 196, 15), dark: rgb(243, 156, 18)),
  (name: 'green', light: rgb(46, 204, 113), dark: rgb(39, 174, 96)),
  (name: 'cyan', light: rgb(26, 188, 156), dark: rgb(22, 160, 133)),
  (name: 'blue', light: rgb(52, 152, 219), dark: rgb(41, 128, 185)),
  (name: 'violet', light: rgb(155, 89, 182), dark: rgb(142, 68, 173))
);

$length: length($colors);
$angle: 360deg / $length;

.hidden {
  display: none;
}

.panel {
  margin: 0 auto;
  width: 100%;
  max-width: 640px;

  &--disabled .panel__button--color {
    cursor: default;
  }

  &__button {
    position: absolute;
    top: 0;
    left: 0;
    overflow: hidden;
    text-indent: 100%;
    width: 100%;
    height: 100%;

    &--color {
      border: 0.625rem solid $background;
      border-radius: 50%;

      &::before {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        border-radius: 50%;
        display: block;
        content: '';
        opacity: 0;
        @include transition(opacity 0.3s);
        width: auto;
        height: auto;
      }
    }

    &--start {
      top: 50%;
      left: 50%;
      background-image: radial-gradient(circle at 30% 30%, rgb(255, 255, 255), rgb(236, 240, 241));
      border-radius: 10rem;
      opacity: 0.85;
      @include transform(translate(-50%, -50%));
      @include transition(opacity 0.1s);
      width: 40%;
      height: 20%;

      &::before {
        position: absolute;
        top: 50%;
        left: 50%;
        border-style: solid;
        border-width: 0.75rem 0 0.75rem 1rem;
        border-color: transparent transparent transparent $background;
        content: '';
        @include transform(translate(-40%, -50%));
        width: 0;
        height: 0;
      }

      &:not(:disabled):hover {
        opacity: 1;
      }
    }

    &:not(:disabled):hover::before,
    &--active::before {
      opacity: 1;
      @include transition(opacity 0.025s);
    }
  }

  &__item {
    position: absolute;
    padding-top: 40%;
    @include transform(translate(-50%, -50%));
    width: 40%;

    &--control {
      top: 0;
      left: 0;
      background-color: $background;
      border-radius: 50%;
      padding-top: 100%;
      width: 100%;
    }

    @each $color in $colors {
      $dark: map-get($color, 'dark');
      $index: index($colors, $color);
      $light: map-get($color, 'light');
      $name: map-get($color, 'name');

      &--#{$name} {
        top: cos($angle * $index) * 50%;
        left: sin($angle * $index) * 50%;

        .panel__button--color {
          background-image: radial-gradient(circle at 30% 30%, darken($dark, 20%), darken($dark, 20%));

          &::before {
            background-image: radial-gradient(circle at 30% 30%, $light, $dark);
          }
        }
      }
    }
  }

  &__list {
    position: relative;
    padding-top: 50%;
    @include transform(translate(100%, 100%));
    width: 50%;
  }
}
